-- =====================================================
-- ДОБАВЛЕНИЕ АЛИАСОВ ДЛЯ РАЗГОВОРНЫХ ТЕРМИНОВ
-- =====================================================
-- Выполните эти команды в SQL Editor Supabase

-- Алиасы для болтов с грибком
INSERT INTO aliases (alias, maps_to, source_url, confidence, notes, category, language, is_active) VALUES
('болт с грибком', '{"type": "болт", "subtype": "грибовидная головка"}', NULL, 0.95, 'разговорный термин', 'болты', 'ru', true),
('болт гриб', '{"type": "болт", "subtype": "грибовидная головка"}', NULL, 0.90, 'сокращение', 'болты', 'ru', true),
('грибовидный болт', '{"type": "болт", "subtype": "грибовидная головка"}', NULL, 0.95, 'описательный термин', 'болты', 'ru', true),
('болт под ключ', '{"type": "болт", "subtype": "шестигранная головка"}', NULL, 0.90, 'разговорный термин', 'болты', 'ru', true),
('болт на ключ', '{"type": "болт", "subtype": "шестигранная головка"}', NULL, 0.90, 'разговорный термин', 'болты', 'ru', true),
('болт под гаечный ключ', '{"type": "болт", "subtype": "шестигранная головка"}', NULL, 0.95, 'описательный термин', 'болты', 'ru', true),

-- Алиасы для покрытий
('цинкованный', '{"coating": "цинк"}', NULL, 0.95, 'разговорный термин', 'покрытия', 'ru', true),
('оцинкованный', '{"coating": "цинк"}', NULL, 0.95, 'разговорный термин', 'покрытия', 'ru', true),
('цинк', '{"coating": "цинк"}', NULL, 0.90, 'сокращение', 'покрытия', 'ru', true),
('нержавейка', '{"coating": "нержавеющая сталь"}', NULL, 0.95, 'разговорный термин', 'покрытия', 'ru', true),
('нержавка', '{"coating": "нержавеющая сталь"}', NULL, 0.90, 'сокращение', 'покрытия', 'ru', true),
('нержавеющая', '{"coating": "нержавеющая сталь"}', NULL, 0.95, 'описательный термин', 'покрытия', 'ru', true),

-- Алиасы для размеров
('на 40', '{"length": "40 мм"}', NULL, 0.85, 'разговорный формат', 'размеры', 'ru', true),
('длиной 40', '{"length": "40 мм"}', NULL, 0.90, 'описательный формат', 'размеры', 'ru', true),
('длина 40', '{"length": "40 мм"}', NULL, 0.90, 'описательный формат', 'размеры', 'ru', true),
('М6 на 40', '{"diameter": "M6", "length": "40 мм"}', NULL, 0.95, 'комбинированный формат', 'размеры', 'ru', true),
('М6х40', '{"diameter": "M6", "length": "40 мм"}', NULL, 0.95, 'стандартный формат', 'размеры', 'ru', true),

-- Алиасы для типов крепежа
('саморез клоп', '{"type": "саморез", "subtype": "с прессшайбой"}', NULL, 0.95, 'строительный сленг', 'саморезы', 'ru', true),
('клоп', '{"type": "саморез", "subtype": "с прессшайбой"}', NULL, 0.90, 'сокращение', 'саморезы', 'ru', true),
('саморез с прессшайбой', '{"type": "саморез", "subtype": "с прессшайбой"}', NULL, 0.95, 'описательный термин', 'саморезы', 'ru', true),
('анкер забиваемый', '{"type": "анкер", "subtype": "забиваемый"}', NULL, 0.95, 'описательный термин', 'анкеры', 'ru', true),
('анкер-гвоздь', '{"type": "анкер", "subtype": "забиваемый"}', NULL, 0.90, 'разговорный термин', 'анкеры', 'ru', true),

-- Алиасы для единиц измерения
('тыс.шт', '{"unit": "тыс.шт"}', NULL, 0.95, 'сокращение', 'единицы', 'ru', true),
('тысяча штук', '{"unit": "тыс.шт"}', NULL, 0.95, 'полное название', 'единицы', 'ru', true),
('штук', '{"unit": "шт"}', NULL, 0.90, 'сокращение', 'единицы', 'ru', true),
('штуки', '{"unit": "шт"}', NULL, 0.90, 'множественное число', 'единицы', 'ru', true)

ON CONFLICT (alias) DO UPDATE SET
    maps_to = EXCLUDED.maps_to,
    confidence = EXCLUDED.confidence,
    notes = EXCLUDED.notes,
    updated_at = NOW();

-- Проверяем добавленные алиасы
SELECT alias, maps_to, confidence, category 
FROM aliases 
WHERE category IN ('болты', 'покрытия', 'размеры', 'саморезы', 'анкеры', 'единицы')
ORDER BY category, confidence DESC;
